{% from "post-card.njk" import postCard %}

{% set postList = collections.posts %}
{% if collections.posts.length %}
  <section class="PostList">
    {% for item in postList %}
      {% if item.data.external_url %}
        {% set isExternal = true %}
        {% set postUrl = item.data.external_url %}
      {% else %}
        {% set postUrl = item.url %}
        {% set isExternal = false %}
      {% endif %}
      {{ postCard(postUrl, item.data.title, item.date, item.data.abstract, isExternal) }}
    {% endfor %}
  </section>
{% endif %}
